<button mat-icon-button
  routerLink="/aliments"
  type="button"
  class="button-right">
    <mat-icon>close</mat-icon>
</button>

<div class="nom-formulaire" *ngIf="formData" >
  <h2>Aliment : <strong>{{ formData.nom }}</strong></h2>
</div>

<div fxLayout="row wrap" fxLayoutAlign="start start" [ngStyle]="{'padding':'0 10px'}" *ngIf="formData">

  <div fxFlex="50" id="imageContainer" fxLayout="column"
    style="padding:0 50px">
    <!-- <h3> Ajouter une image</h3> -->
    <app-upload-images
    [size]="1000000"
    [width]="1000"
    [heigth]="1000"></app-upload-images>
  </div>

  <div fxFlex="50" fxLayout="column" style="padding: 50px 20px 0">
    <mat-form-field>
      <input matInput placeholder="Nom de l'aliment" type="text"
            [(ngModel)]="formData.nom"
            (ngModelChange)="updateFiel('nom', formData.nom)" required>
    </mat-form-field>
    <p class="mentiontimestamp">Ajouté le {{ formData.timestamp | date }}</p>
    <div fxFlex="100" fxLayoutAlign="start start" style="margin-top: 10px;">
      <label class="dark-chip"> Source :</label>
      <mat-radio-group color="warn"
          [(ngModel)]="formData.source"
             (ngModelChange)="updateFiel('source', formData.source)">
          <mat-radio-button value="manuelle" class="span-radio-button">
            Manuelle
          </mat-radio-button>
          <mat-radio-button value="opendfoodfact" class="span-radio-button">
            Opend food fact
          </mat-radio-button>
      </mat-radio-group>
    </div>
    <div fxFlex="100" fxLayoutAlign="start start" style="margin-top: 10px;">
      <label class="dark-chip"> Ratio Omega</label>
      <!-- <mat-radio-group color="warn"
          [(ngModel)]="formData.ratioomega"
             (ngModelChange)="updateFiel('ratioomega', formData.ratioomega)">
          <mat-radio-button value="omega6" class="span-radio-button">
            oméga 6
          </mat-radio-button>
          <mat-radio-button value="omega3" class="span-radio-button">
            oméga 3
          </mat-radio-button>
      </mat-radio-group> -->
    </div>
    <div fxFlex="100" fxLayoutAlign="start end" style="margin:10px 0">
      <label class="dark-chip" style="margin:0 10px 0 0">Valide</label>
      <mat-slide-toggle color="warn"
        [formControl]="valideControl"
        (change)="updateFiel('valide', valideControl.value)">
      </mat-slide-toggle>
    </div>
  </div>

  <div fxFlex="100">
    <mat-form-field fxFlex="33">
      <input matInput placeholder="Proteines" type="number"
            [(ngModel)]="formData.proteines"
             (ngModelChange)="updateFiel('proteines', formData.proteines)" required>
    </mat-form-field>
  </div>

  <div fxFlex="100">
    <mat-form-field fxFlex="33">
      <input matInput placeholder="Glucides" type="number"
              [(ngModel)]="formData.glucides"
             (ngModelChange)="updateFiel('glucides', formData.glucides)" required>
    </mat-form-field>
    <mat-form-field fxFlex="33">
      <input matInput placeholder="Glucides simples" type="number"
            [(ngModel)]="formData.glucidessimples"
             (ngModelChange)="updateFiel('glucidessimples', formData.glucidessimples)" required>
    </mat-form-field>
    <mat-form-field fxFlex="33">
      <input matInput placeholder="Glucides complexe" type="number"
            [(ngModel)]="formData.glucidescomplexe"
             (ngModelChange)="updateFiel('glucidescomplexe', formData.glucidescomplexe)" required>
    </mat-form-field>
  </div>

  <div fxFlex="100">
    <mat-form-field fxFlex="25">
      <input matInput placeholder="Lipides" type="number"
              [(ngModel)]="formData.lipides"
            (ngModelChange)="updateFiel('lipides', formData.lipides)" required>
    </mat-form-field>
    <mat-form-field fxFlex="25">
      <input matInput placeholder="Lipides satures" type="number"
              [(ngModel)]="formData.lipidessatures"
            (ngModelChange)="updateFiel('lipidessatures', formData.lipidessatures)" required>
    </mat-form-field>
    <mat-form-field fxFlex="25">
      <input matInput placeholder="Lipides monoinsatures" type="number"
              [(ngModel)]="formData.lipidesmonoinsatures"
            (ngModelChange)="updateFiel('lipidesmonoinsatures', formData.lipidesmonoinsatures)" required>
    </mat-form-field>
    <mat-form-field fxFlex="25">
      <input matInput placeholder="Lipides monopolyinsatures" type="number"
              [(ngModel)]="formData.lipidesmonopolyinsatures"
            (ngModelChange)="updateFiel('lipidesmonopolyinsatures', formData.lipidesmonopolyinsatures)" required>
    </mat-form-field>
  </div>

  <mat-form-field fxFlex="25">
    <input matInput placeholder="lactoses" type="number"
            [(ngModel)]="formData.lactoses"
           (ngModelChange)="updateFiel('lactoses', formData.lactoses)" required>
  </mat-form-field>
  <mat-form-field fxFlex="25">
    <input matInput placeholder="fibres" type="number"
          [(ngModel)]="formData.fibres"
           (ngModelChange)="updateFiel('fibres', formData.fibres)" required>
  </mat-form-field>
  <mat-form-field fxFlex="25">
    <input matInput placeholder="kcal" type="number"
          [(ngModel)]="formData.kcal"
           (ngModelChange)="updateFiel('kcal', formData.kcal)" required>
  </mat-form-field>
  <mat-form-field fxFlex="25">
    <input matInput placeholder="indice glycémique (0 - 100)" type="number"
            [(ngModel)]="formData.ig"
           (ngModelChange)="updateFiel('ig', formData.ig)" required>
  </mat-form-field>

  <mat-form-field fxFlex="25">
    <input matInput placeholder="sodium" type="number"
            [(ngModel)]="formData.sodium"
           (ngModelChange)="updateFiel('sodium', formData.sodium)" required>
  </mat-form-field>
  <mat-form-field fxFlex="25">
    <input matInput placeholder="sel" type="number"
            [(ngModel)]="formData.sel"
           (ngModelChange)="updateFiel('sel', formData.sel)" required>
  </mat-form-field>


</div>
