<button mat-icon-button
  (click)="onClose()"
  type="button"
  class="button-right">
    <mat-icon>close</mat-icon>
</button>

<div fxLayout="column">
    <h2>Ajout d'une nouvelle question</h2>

    <form [formGroup]="questionForm" fxLayout="column" (ngSubmit)="onAddQuestion()">

        <mat-form-field style="padding: 10px">
          <input matInput type="number" formControlName="ordre" placeholder="Ordre">
        </mat-form-field>

        <mat-form-field style="padding: 10px">
          <input matInput type="text" formControlName="question" placeholder="Question">
        </mat-form-field>

        <div style="padding: 10px" fxFlexAlign="start">
          <label>Active</label>
          <mat-slide-toggle formControlName="active" color="warn">
          </mat-slide-toggle>
        </div>


        <div formArrayName="reponses" fxLayout="column">
          <h3 fxFlexAlign="center">Reponses</h3>
          <button style="width: 50%;"
           mat-raised-button (click)="onAddReponse(); $event.preventDefault();"
           fxFlexAlign="center"
           ><mat-icon>add</mat-icon></button>
          <div class="reponse" *ngFor="let reponse of getReponses().controls; let i = index;" fxLayout="column no-wrap" fxFlexAlign="center">
            <div>
              <mat-form-field style="padding: 5px; width: 80%;">
                <input matInput type="text" [formControlName]="i" placeholder="reponse">
              </mat-form-field>
              <button type="button" mat-button (click)="removeReponse(i)"><mat-icon>delete</mat-icon></button>
            </div>
          </div> 
        </div>

        <button type="submit" fxFlexAlign="center" mat-fab color="warn"
        style="margin-top: 3%"
        [disabled]="questionForm.invalid">
          <mat-icon>save</mat-icon>
        </button> 
    </form>
</div>
